%%%%%%%%%%%%%%%%%% Temporary for testing will delete
% load('r1140i20aB002x10v80f1250p0_20100728b_n4.mat');
% load('r1140i20aB002x10v0f0p0_20100728b_n1.mat');
% [xcorrect,ycorrect, ~]=airfoil_rotation(20);
% x=x+xcorrect;
% y=y+ycorrect;
% num_images = 1000;
% u = u(:,1:num_images);
% v = v(:,1:num_images);
% u = reshape(u, Nx, Ny, num_images);
% v = reshape(v, Nx, Ny, num_images);
% x = reshape(x, Nx, Ny, 1);
% y = reshape(y, Nx, Ny, 1);
% for i = 1:size(u,3)
%     [xn, yn, un(:,:,i), vn(:,:,i)] = image_rotation(x, y, u(:,:,i), v(:,:,i));
% end
% x = xn;
% y = yn;
% u = un;
% v = vn;
% clear xn yn un vn
% direct = 'D:\shear layer\PIVData\Old Data';
%%%%%%%%%%%%%%%%%%%%%%%%%%